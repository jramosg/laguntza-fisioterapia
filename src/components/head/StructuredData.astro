---
import { settings } from '@config/settings';
import { Address, Phone, Email } from '@config/company';
import { getLangFromUrl, useTranslations } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const structuredData = {
	'@context': 'https://schema.org',
	'@type': 'HealthAndBeautyBusiness',
	'@id': 'https://laguntzafisioterapia.com',
	name: 'Laguntza Fisioterapia',
	alternateName: 'Centro de Fisioterapia Urnieta',
	description: t(settings.description),
	url: 'https://laguntzafisioterapia.com',
	image: [
		'https://laguntzafisioterapia.com/main-logo-horizontal.png',
		'https://laguntzafisioterapia.com/open-graph.jpg',
	],
	telephone: Phone.name,
	email: Email.name.replace('mailto:', ''),
	address: {
		'@type': 'PostalAddress',
		streetAddress: 'Zubitxo Plaza, 3',
		addressLocality: 'Urnieta',
		addressRegion: 'Gipuzkoa',
		postalCode: '20130',
		addressCountry: 'ES',
	},
	geo: {
		'@type': 'GeoCoordinates',
		latitude: 43.24656113552193,
		longitude: -1.9932571315890595,
	},
	openingHoursSpecification: [
		{
			'@type': 'OpeningHoursSpecification',
			dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
			opens: '09:00',
			closes: '20:00',
		},
	],
	priceRange: '€€',
	currenciesAccepted: 'EUR',
	paymentAccepted: 'Cash, Credit Card',
	areaServed: [
		{
			'@type': 'City',
			name: 'Urnieta',
		},
		{
			'@type': 'AdministrativeArea',
			name: 'Gipuzkoa',
		},
		{
			'@type': 'Country',
			name: 'España',
		},
	],
	serviceType: [
		'Fisioterapia',
		'Tratamiento del dolor',
		'Rehabilitación deportiva',
		'Osteopatía',
		'Punción seca',
		'Neuromodulación',
	],
	medicalSpecialty: ['Physical Therapy', 'Sports Medicine', 'Pain Management'],
	hasMap: Address.url,
};

const organizationData = {
	'@context': 'https://schema.org',
	'@type': 'Organization',
	name: 'Laguntza Fisioterapia',
	url: 'https://laguntzafisioterapia.com',
	logo: 'https://laguntzafisioterapia.com/main-logo-horizontal.png',
	contactPoint: {
		'@type': 'ContactPoint',
		telephone: Phone.name,
		contactType: 'customer service',
		availableLanguage: ['Spanish', 'Basque'],
		areaServed: 'ES',
	},
};
---

<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
<script
	type="application/ld+json"
	set:html={JSON.stringify(organizationData)}
/>
