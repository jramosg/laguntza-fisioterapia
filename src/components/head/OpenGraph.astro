---
import { settings } from '@config/settings';
import { getLangFromUrl, useTranslations } from '@i18n/utils';

type Props = {
	desc?: string;
	image?: string;
	type?: string;
};

const { desc, image, type = 'website' }: Props = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const defaultImage1 = new URL(
	'/main-logo-horizontal.png',
	Astro.site
).toString();
const defaultImage2 = new URL('/open-graph.jpg', Astro.site).toString();
const title = settings.title;
const description = desc || t(settings.description);
const siteName = 'Laguntza Fisioterapia';
---

<!-- Open Graph / Facebook -->
<meta property="og:type" content={type} />
<meta property="og:site_name" content={siteName} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={defaultImage1} />
<meta property="og:image" content={defaultImage2} />
<meta property="og:image:secure_url" content={defaultImage1} />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta
	property="og:image:alt"
	content="Laguntza Fisioterapia - Centro de Fisioterapia en Urnieta, Gipuzkoa"
/>
<meta property="og:locale" content={lang === 'eu' ? 'eu_ES' : 'es_ES'} />
{
	lang === 'eu' ? (
		<meta property="og:locale:alternate" content="es_ES" />
	) : (
		<meta property="og:locale:alternate" content="eu_ES" />
	)
}

<!-- Additional business-specific Open Graph tags -->
<meta
	property="business:contact_data:street_address"
	content="Zubitxo Plaza, 3"
/>
<meta property="business:contact_data:locality" content="Urnieta" />
<meta property="business:contact_data:region" content="Gipuzkoa" />
<meta property="business:contact_data:postal_code" content="20130" />
<meta property="business:contact_data:country_name" content="EspaÃ±a" />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:url" content={canonicalURL} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={defaultImage1} />
<meta
	name="twitter:image:alt"
	content="Laguntza Fisioterapia - Centro de Fisioterapia en Urnieta, Gipuzkoa"
/>
<meta name="twitter:creator" content="@laguntzafisio" />
<meta name="twitter:site" content="@laguntzafisio" />

<!-- WhatsApp / Telegram sharing optimization -->
<meta property="og:image:width" content="400" />
<meta property="og:image:height" content="400" />
