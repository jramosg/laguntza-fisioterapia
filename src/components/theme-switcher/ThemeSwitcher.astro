<label id="theme-toggle" class="theme-toggle" title="Toggle theme"> </label>

<script>
	import 'theme-toggles/css/classic.css';

	document.addEventListener('astro:page-load', () => {
		const themeToggle = document.getElementById('theme-toggle');
		const preferedTheme = getStoredTheme();
		if (themeToggle) {
			themeToggle.innerHTML = `
    <input type="checkbox" id="theme-toggle-checkbox" ${preferedTheme === 'dark' ? 'checked' : ''}/>
	<span class="theme-toggle-sr">Toggle theme</span>
	<svg
		xmlns="http://www.w3.org/2000/svg"
		aria-hidden="true"
		width="2em"
		height="2em"
		fill="currentColor"
		stroke-linecap="round"
		class="theme-toggle__classic"
		viewBox="0 0 32 32"
	>
		<clipPath id="theme-toggle__classic__cutout">
			<path d="M0-5h30a1 1 0 0 0 9 13v24H0Z"></path>
		</clipPath>
		<g clip-path="url(#theme-toggle__classic__cutout)">
			<circle cx="16" cy="16" r="9.34"></circle>
			<g stroke="currentColor" stroke-width="1.5">
				<path d="M16 5.5v-4"></path>
				<path d="M16 30.5v-4"></path>
				<path d="M1.5 16h4"></path>
				<path d="M26.5 16h4"></path>
				<path d="m23.4 8.6 2.8-2.8"></path>
				<path d="m5.7 26.3 2.9-2.9"></path>
				<path d="m5.8 5.8 2.8 2.8"></path>
				<path d="m23.4 23.4 2.9 2.9"></path>
			</g>
		</g>
	</svg>`;
		}
		const themeToggleCheckbox = document.getElementById(
			'theme-toggle-checkbox'
		);
		themeToggleCheckbox?.addEventListener('change', e => {
			setTheme(e.target.checked ? 'dark' : 'light');
		});
	});
</script>
